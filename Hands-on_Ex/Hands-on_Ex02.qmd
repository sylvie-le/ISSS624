---
title: "Hands-on_Ex02: Global and Local Measures of Spatial Autocorrelation"
editor: visual
---

## Overview

This exercise provide the steps of computing the Global and Local Measures of Spatial Autocorrelation using `spdep` package.

## Getting Started

### The analytical question

We may ask, is a character or attribute evenly distributed across areas or regions? If they are not, then is there a sign of spatial clustering, and if yes, where are the clusters? Those questions can be applied to a wide range of domains: development planning of city councils, shop outlet location setting of a fashion chain, examining the habitat clusters of a certain plant species, etc.

In this case study, we are interested to examine the spatial pattern of a selected development indicator (i.e.Â GDP per capita) of [Hunan Provice, People Republic of China](https://en.wikipedia.org/wiki/Hunan).

### The study area and data

Two data sets will be used in this hands-on exercise, they are:

-   Hunan province administrative boundary layer at county level. This is a geospatial data set in ESRI shapefile format.

-   Hunan_2012.csv: This csv file contains selected Hunan\'s local development indicators in 2012.

We will reuse the data that we exercised in the [In-class Exercise 2 - Spatial Weights and Application](https://isss624-1stcommit.netlify.app/in-class_ex/in-class_ex1/in-class_ex1) segment of this website.

### Setting the analytical tools

First, we load the necessary R packages.

```{r}
pacman::p_load(sf, spdep, tmap, tidyverse)
```

## Getting the Data into the R Environment

### Import shapefile into R environment

We import the Hunan shapefile into R using the `sf` package.

```{r}
hunan <- st_read(dsn = "~/sylvie-le/ISSS624/In-class_Ex/In-class_Ex1/dataC/geospatial", layer = "Hunan")
```

### Import CSV file into R environment

```{r}
hunan2012 <- read_csv("~/sylvie-le/ISSS624/In-class_Ex/In-class_Ex1/dataC/aspatial/Hunan_2012.csv", show_col_types = FALSE)
```

### Perform relational join

```{r}
hunan <- left_join(hunan, hunan2012)
```

### Visualize regional development indicator

Now we will prepare a choropleth map showing the distribution of GDPPC 2012 in Hunan.

```{r}
equal <- tm_shape(hunan) +
  tm_fill("GDPPC",
          n = 5,
          style = "equal") +
  tm_borders(alpha = 0.5) +
  tm_layout(main.title = "Equal interval classification",
            main.title.size = 1,
            main.title.position = "center",
            legend.text.size = 0.45)

quantile <- tm_shape(hunan) +
  tm_fill("GDPPC",
          n = 5,
          style = "quantile") +
  tm_borders(alpha = 0.5) +
  tm_layout(main.title = "Equal quantile classification",
            main.title.size = 1,
            main.title.position = "center",
            legend.text.size = 0.45)

tmap_arrange(equal, quantile, asp = 1, ncol = 2)
```

## Global Spatial Autocorrelation
